# [SWEA] 1795. ì¸ìˆ˜ì˜ ìƒì¼ íŒŒí‹° [D6]

## ğŸ“š ë¬¸ì œ

https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV4xuqCqBeUDFAUx

---

## ğŸ“– í’€ì´

Xë¼ëŠ” ì •ì ì„ ì¶œë°œì ìœ¼ë¡œ í•˜ì—¬ ì¶œë°œì ë¶€í„° ëª¨ë“  ì •ì ê¹Œì§€ì˜ ìµœì†Œ ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ê²ƒê³¼ Xë¥¼ ë„ì°©ì ìœ¼ë¡œ í•˜ì—¬ ëª¨ë“  ì •ì ìœ¼ë¡œë¶€í„° Xê¹Œì§€ì˜ ìµœì†Œ ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œë¥¼ í’€ì–´ì•¼ í•œë‹¤.



ì²« ë²ˆì§¸ í•˜ë‚˜ì˜ ì •ì ì—ì„œ ëª¨ë“  ì •ì ê¹Œì§€ì˜ ìµœì†Œ ê±°ë¦¬ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ì•¼ í•¨ì„ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.



**ë‘ ë²ˆì§¸ì¸ ëª¨ë“  ì •ì ì—ì„œ í•˜ë‚˜ì˜ ì •ì ê¹Œì§€ì˜ ìµœì†Œ ê±°ë¦¬ë¥¼ êµ¬í•´ì•¼ í•˜ëŠ”ë° ì´ëŠ” ì…ë ¥ì„ ê±°ê¾¸ë¡œ ë°›ì•„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.**

ì¦‰, ë„ì°©ì§€ì  -> ì¶œë°œì§€ì ìœ¼ë¡œ ì…ë ¥ì„ ë°›ëŠ” ê·¸ë˜í”„ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ì„œ ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ ë‘ ë²ˆ êµ¬í•´ì¤€ë‹¤.



ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ 2ë²ˆ êµ¬í˜„í•˜ë‹ˆ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³ , ì…ë ¥ìœ¼ë¡œëŠ” ê·¸ë˜í”„ë¥¼ ë°›ëŠ”ë‹¤.

ì •ë°©í–¥ìœ¼ë¡œì˜ ê·¸ë˜í”„ì™€ ì—­ë°©í–¥ìœ¼ë¡œì˜ ê·¸ë˜í”„ë¥¼ ë”°ë¡œ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ êµ¬í•´ì£¼ê³ , êµ¬í•œ ë‘ dp ê°’ì„ ë”í•´ì¤˜ ì™•ë³µ ìµœì†Œ ì‹œê°„ì„ êµ¬í•´ì¤€ë‹¤.

ê·¸ë¦¬ê³  ê·¸ ë•Œ ê°€ì¥ í° ê°’ì„ ì¶œë ¥í•œë‹¤.

## ğŸ“’ ì½”ë“œ

```python
import heapq


def dijkstra(graph):        # ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜, ê·¸ë˜í”„ ê°’ì„ ì…ë ¥ìœ¼ë¡œ
    dp = [INF for _ in range(n + 1)]
    heap = [[0, x]]     # ì¶œë°œì ì„ ë‹´ëŠ”ë‹¤.
    dp[x] = 0           # ì¶œë°œ ìœ„ì¹˜ëŠ” 0ìœ¼ë¡œ
    while heap:         # í™êµ¬ì¡°ë¥¼ í™œìš©í•œ ë‹¤ìµìŠ¤íŠ¸ë¼ êµ¬í˜„
        t, v = heapq.heappop(heap)      # í™ì—ì„œ ê±¸ë¦¬ëŠ” ì‹œê°„ì´ ì‘ì€ ê°’ì„ êº¼ë‚¸ë‹¤.
        if dp[v] != t:      # í™•ì¸í•˜ì§€ ì•ŠëŠ” ì •ì ë§Œ, ì´ë¯¸ í™•ì¸í–ˆìœ¼ë©´ dp ê°’ê³¼ ë‹¤ë¥´ë‹¤.
            continue
        for t2, v2 in graph[v]:     # ì—°ê²°ëœ ì •ì ë“¤ ìˆœíšŒ
            if dp[v2] > t + t2:     # ìµœì†Œê°’ìœ¼ë¡œ ë°”ê¿”ì¤„ ìˆ˜ ìˆìœ¼ë©´ dp ê°’ì„ ë°”ê¿”ì£¼ê³  í™ì— ë„£ì–´ì¤€ë‹¤.
                dp[v2] = t + t2
                heapq.heappush(heap, [dp[v2], v2])
    return dp


t = int(input())
INF = 10000000000
for tc in range(1, 1 + t):
    n, m, x = map(int, input().split())
    forward = [[] for _ in range(n + 1)]
    reverse = [[] for _ in range(n + 1)]
    for i in range(m):
        s, e, t = map(int, input().split())
        forward[s].append([t, e])   # ê°€ì¤‘ì¹˜ë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ ê°€ì¤‘ì¹˜, ì—°ê²°ëœ ì •ì  ìˆœìœ¼ë¡œ ë„£ëŠ”ë‹¤.
        reverse[e].append([t, s])
    # xì—ì„œ ì¶œë°œí•˜ëŠ” ìµœë‹¨ ê²½ë¡œ
    f_dp = dijkstra(forward)
    # xì— ë„ì°©í•˜ëŠ” ìµœë‹¨ ê²½ë¡œ
    r_dp = dijkstra(reverse)

    max_t = 0   # ì™•ë³µ ìµœì¥ ì‹œê°„
    for i in range(1, n + 1):   # ì¶œë°œì‹œê°„ê³¼ ë„ì°©ì‹œê°„ì˜ í•©ì´ ìµœëŒ€ì¼ ë•Œ
        max_t = max(f_dp[i] + r_dp[i], max_t)

    print(f'#{tc} {max_t}')
```

## ğŸ” ê²°ê³¼

![image-20220405163422505](README.assets/image-20220405163422505.png)