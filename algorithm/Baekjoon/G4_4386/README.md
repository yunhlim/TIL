# [Baekjoon] 4386. ë³„ìë¦¬ ë§Œë“¤ê¸° [G4]

## ğŸ“š ë¬¸ì œ : [ë³„ìë¦¬ ë§Œë“¤ê¸°](https://www.acmicpc.net/problem/4386)

## ğŸ“– í’€ì´

ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬(MST)ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.

í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í•´ê²°í•´ë³¸ë‹¤.

í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜

- ê±°ë¦¬ ìˆœìœ¼ë¡œ ë‹´ê³ , ê±°ë¦¬ê°€ ì‘ì€ ê²ƒë¶€í„° ì°¨ë¡€ë¡œ ì—°ê²°ì‹œì¼œì¤€ë‹¤.
- heapì„ í™œìš©í•´ì„œ ê±°ë¦¬ê°€ ì‘ì€ ê²ƒë¶€í„° í™•ì¸í•œë‹¤.
- ì‹¸ì´í´ì´ ì—°ê²°ë˜ì§€ ì•Šê²Œ í•œë‹¤.
- ì‹¸ì´í´ì´ í˜•ì„±ì´ ë˜ëŠ”ì§€ëŠ” Union-find ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì°¾ëŠ”ë‹¤.

round()ë¥¼ ì‚¬ìš©í•´ì„œ ì†Œìˆ˜ ë‘˜ì§¸ìë¦¬ê¹Œì§€ í‘œê¸°í•œë‹¤.

union-findë¥¼ ì‚¬ìš©í•  ë•Œ, íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê²½ë¡œ ì••ì¶•ê³¼ union-by-rankë¥¼ ë‹¤ ì‚¬ìš©í•œë‹¤.(nì´ 100ì´ë©´ ì‚¬ì‹¤ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ìƒê´€ì—†ë‹¤.)

ê°„ì„ ì„ n-1ê°œ ì—°ê²°í•˜ë©´ ë‹¤ ì—°ê²°ëœ ê²ƒì´ë‹ˆ ì¢…ë£Œí•œë‹¤.

## ğŸ“’ ì½”ë“œ

```python
import heapq


def find(x):
    if par[x] != x:
        par[x] = find(par[x])       # ê²½ë¡œ ì••ì¶•
    return par[x]


def union(x, y):                    # union-by-rank : í•©ì¹œ íšŸìˆ˜ê°€ ì ì€ ìª½ì—ì„œ í° ìª½ìœ¼ë¡œ ë³‘í•©
    x = find(x)
    y = find(y)
    if rnk[x] > rnk[y]:
        par[y] = x
    elif rnk[x] < rnk[y]:
        par[x] = y
    else:
        par[y] = x
        rnk[x] += 1


def distance(n1, n2):       # ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤.(roundë¡œ ì†Œìˆ˜ ë‘˜ì§¸ìë¦¬ ê¹Œì§€)
    return round(((n1[0] - n2[0]) ** 2 + (n1[1] - n2[1]) ** 2) ** (1/2), 2)


n = int(input())
arr = [0 for _ in range(n)]     # ë³„ë“¤ì˜ ì¢Œí‘œë¥¼ ë‹´ì€ ë¦¬ìŠ¤íŠ¸
dist = []                       # ê±°ë¦¬ì™€ ê° ë³„ë“¤ì„ ë‹´ì€ ìµœì†Œí™
par = [i for i in range(n)]     # ì§‘í•©ì˜ root
rnk = [0 for _ in range(n)]     # ì§‘í•©ì˜ rank

for i in range(n):      # ê° ë³„ë“¤ì˜ ì¢Œí‘œë¥¼ ë‹´ëŠ”ë‹¤.
    arr[i] = list(map(float, input().split()))

for i in range(n):      # ê° ë³„ ì‚¬ì´ì˜ ê±°ë¦¬ ìˆœìœ¼ë¡œ ìµœì†Œí™ì— ë‹´ì•„ì¤€ë‹¤.
    for j in range(i + 1, n):
        heapq.heappush(dist, [distance(arr[i], arr[j]), i, j])

result = 0      # ê±°ë¦¬ì˜ ìˆ˜ë¥¼ ë”í•  result
cnt = 0         # ì—°ê²°ëœ ê°„ì„ ì˜ ìˆ˜ë¥¼ count
while dist:
    d, x, y = heapq.heappop(dist)
    if find(x) == find(y):      # ì´ë¯¸ ë³‘í•©ëœ ìƒí™©, cycleì„ ì´ë£¬ ìƒí™©
        continue
    union(x, y)
    cnt += 1            # ì—°ê²°ëœ ê°„ì„ ì˜ ìˆ˜
    result += d         # ê±°ë¦¬ë¥¼ resultì— ë”í•œë‹¤.
    if cnt == n - 1:    # ê°„ì„ ì´ n-1ê°œ ì—°ê²°ë˜ë©´ ë‹¤ ì—°ê²°ë˜ì—ˆìœ¼ë‹ˆ ì¢…ë£Œ
        break

print(result)   # ì—°ê²°ëœ ê±°ë¦¬ì˜ í•©
```

## ğŸ” ê²°ê³¼

![image-20220627161035421](README.assets/image-20220627161035421.png)