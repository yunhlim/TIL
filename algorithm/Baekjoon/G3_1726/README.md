# [Baekjoon] 1726. ë¡œë´‡ [G3]

## ğŸ“š ë¬¸ì œ

https://www.acmicpc.net/problem/1726

---

## ğŸ“– í’€ì´

ìµœì†Œë¥¼ êµ¬í•˜ëŠ” ê²ƒì´ë¯€ë¡œ, **BFS íƒìƒ‰**ì„ í™œìš©í•œë‹¤.

ë„¤ ë°©í–¥ì˜ ë¸íƒ€ íƒìƒ‰ì—ë‹¤ê°€ ë°©í–¥ íšŒì „ê¹Œì§€ ë”í•´ì§„ë‹¤.

ë°©í–¥ì„ í•¨ê»˜ ë‹´ê¸° ìœ„í•´ visitedë¥¼ 3ì°¨ì›ìœ¼ë¡œ ì„ ì–¸í•´ ê° ì¢Œí‘œì˜ ë°©í–¥ë§ˆë‹¤ ë”°ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤.

ìµœì†Œê°’ì„ ê³„ì† ê°±ì‹ í•´ì¤˜ì•¼ í•˜ë‹ˆ ë‚˜ì˜¬ ìˆ˜ ì—†ëŠ” ìµœëŒ“ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.

ë°©í–¥ì„ 90ë„ ë°©í–¥ìœ¼ë¡œ í•  ìˆ˜ ìˆê³ , ì „ì§„ì€ 1 ~ 3ì¹¸ê¹Œì§€ ê°€ëŠ¥í•˜ë¯€ë¡œ 5ë²ˆì˜ ê²½ìš°ë¥¼ í™•ì¸í•œë‹¤. ë°©í–¥ì€ ìš° í•˜ ì¢Œ ìƒìœ¼ë¡œ ê°ê° 1, 2, 3, 4ë¡œ ì…ë ¥ì´ ë“¤ì–´ì˜¨ë‹¤. ë”°ë¼ì„œ 0ë¶€í„° ì‹œì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ paddingì„ visitedë¥¼ ì„ ì–¸í•  ë•Œ ë„£ì–´ì¤˜ì•¼ í•œë‹¤.

ì¢Œí‘œëŠ” paddingì„ ë„£ê¸° ê·€ì°®ìœ¼ë¯€ë¡œ ë„£ì§€ ì•Šê³  ì‹œì‘ì ê³¼ ë„ì°©ì ì˜ ì¢Œí‘œê°’ì„ ê°ê° 1ì”© ëº€ë‹¤.

ë°©í–¥ì´ ìš°, í•˜ì¸ ê²½ìš°ëŠ” ì¢Œ, ìƒìœ¼ë¡œ íšŒì „ì‹œì¼œì£¼ë©´ ëœë‹¤. ê·¸ ë•Œ ë” ìµœì†Œê°’ìœ¼ë¡œ visitedë¥¼ ë°”ê¿€ ìˆ˜ ìˆìœ¼ë©´ ë°”ê¾¸ê³  íì— ë‹´ëŠ”ë‹¤.

ì „ì§„ì€ 1 ~ 3ì¹¸ í•  ìˆ˜ ìˆëŠ”ë° ì…ë ¥ë°›ì€ ë°°ì—´ì— 1ì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. 1ì´ ìˆìœ¼ë©´ ê°ˆ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ breakë¡œ ë‹¤ìŒ ì¹¸ë„ í™•ì¸í•˜ì§€ ì•Šê³  ì¢…ë£Œí•œë‹¤. ê°ˆ ìˆ˜ ìˆë‹¤ë©´, ì´ë™í•œ í›„ visitedë¥¼ í™•ì¸í•´ ìµœì†Œê°’ì¸ ê²½ìš° ë°”ê¾¸ê³  íì— ë‹´ì•„ì¤€ë‹¤.

ìœ„ ê³¼ì •ì„ ë°˜ë³µí•˜ë©° ì›í•˜ëŠ” ë„ì°©ì ì— ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ë„ì°©í–ˆì„ ë•Œ ì¶œë ¥í•˜ê³  ì¢…ë£Œí•œë‹¤.

## ğŸ“’ ì½”ë“œ

```python
from collections import deque


m, n = map(int, input().split())
arr = [list(map(int, input().split())) for _ in range(m)]
s_x, s_y, s_d = list(map(int, input().split()))     # ì‹œì‘ì  ì¢Œí‘œì™€ ë°©í–¥
e_x, e_y, e_d = list(map(int, input().split()))     # ë„ì°©ì  ì¢Œí‘œì™€ ë°©í–¥
s_x -= 1        # ì£¼ì–´ì§„ ì…ë ¥ ì¢Œí‘œê°€ 1,1ë¶€í„° ì‹œì‘í•˜ëŠ”ë° íŒ¨ë”©ì„ ë„£ê¸° ê·€ì°®ìœ¼ë‹ˆ ì…ë ¥ì—ì„œ ê°ê° 1ì„ ë¹¼ì¤€ë‹¤.
s_y -= 1
e_x -= 1
e_y -= 1
INF = 100000
dx = [0, 0, 0, 1, -1]  # padding + ìš° ì¢Œ í•˜ ìƒ
dy = [0, 1, -1, 0, 0]
visited = [[[0, INF, INF, INF, INF] for _ in range(n)] for _ in range(m)]   # ë„¤ ë°©í–¥ ê°’ìœ¼ë¡œ ì´ˆê¸°í™” í•´ì¤€ë‹¤.
visited[s_x][s_y][s_d] = 0      # ì‹œì‘ì ì€ ëª…ë ¹ì´ 0ì´ë‹ˆ ë„£ì–´ì¤€ë‹¤.

queue = deque()
queue.append((s_x, s_y, s_d))   # ì‹œì‘ì ì„ íì— ë„£ê³  ì‹œì‘
while queue:
    x, y, d = queue.popleft()
    if [x, y, d] == [e_x, e_y, e_d]:        # ë„ì°©ì ì˜ ì›í•˜ëŠ” ë°©í–¥ì— ë„ë‹¬í–ˆì„ ë•Œ
        print(visited[e_x][e_y][e_d])       # ëª…ë ¹ë°›ì€ ê°’ì„ ì¶œë ¥í•˜ê³  ì¢…ë£Œ
        break
    for i in range(1, 5):   # ë°©í–¥ ì „í™˜
        if d in [1, 2] and i in [1, 2]:     # dê°€ ìš°, ì¢Œ ë°©í–¥ì¸ë° íšŒì „í•  ë°©í–¥ë„ ìš°, ì¢Œì´ë©´ ì•ˆ ëœë‹¤.
            continue
        if d in [3, 4] and i in [3, 4]:     # dê°€ í•˜, ìƒ ë°©í–¥ì¸ë° íšŒì „í•  ë°©í–¥ë„ í•˜, ìƒì´ë©´ ì•ˆ ëœë‹¤.
            continue
        if visited[x][y][i] > visited[x][y][d] + 1:     # íšŒì „í–ˆì„ ë•Œ ì €ì¥ëœ ê°’ë³´ë‹¤ ì‘ìœ¼ë©´ ë°”ê¿”ì£¼ê³  íì— ë‹´ëŠ”ë‹¤.
            visited[x][y][i] = visited[x][y][d] + 1
            queue.append((x, y, i))

    for i in range(1, 4):   # ì „ì§„, 1~3ìœ¼ë¡œ ì›€ì§ì¼ ìˆ˜ ìˆë‹¤.
        nx = x + dx[d] * i
        ny = y + dy[d] * i
        if not (0 <= nx < m and 0 <= ny < n) or arr[nx][ny] == 1:   # ì¤‘ê°„ì— ê°ˆ ìˆ˜ ì—†ìœ¼ë©´ ì¢…ë£Œ
            break
        if visited[nx][ny][d] > visited[x][y][d] + 1:   # ì „ì§„í–ˆì„ ë•Œ ì €ì¥ ê°’ë³´ë‹¤ ì‘ìœ¼ë©´ ë°”ê¿”ì£¼ê³  íì— ë‹´ëŠ”ë‹¤.
            visited[nx][ny][d] = visited[x][y][d] + 1
            queue.append((nx, ny, d))
```

## ğŸ” ê²°ê³¼

<img src="README.assets/image-20220330142817380.png" alt="image-20220330142817380" style="zoom:200%;" />