# [Baekjoon] 1504. íŠ¹ì •í•œ ìµœë‹¨ ê²½ë¡œ [G4]

## ğŸ“š ë¬¸ì œ

https://www.acmicpc.net/problem/1504

---

## ğŸ“– í’€ì´

ì–‘ìˆ˜ ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ìµœë‹¨ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹ˆ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•œë‹¤.

ê²½ìœ í•´ì•¼í•˜ë‹ˆ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆ ì„œ ìƒê°í•œë‹¤.

>1 => v1 => v2 => n
>
>1 => v2 => v1 => n

6ë²ˆ ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€ ì¶œë°œì§€ ê¸°ì¤€ ëª¨ë“  ê²½ìš°ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ 1ì´ ì¶œë°œì ì¸ ê²½ìš°, v1, v2ê°€ ì¶œë°œì ì¸ ê²½ìš° ê°ê° êµ¬í•˜ë©´ ë˜ë‹ˆê¹Œ 3ë²ˆë§Œ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í•œë‹¤.

>1ì—ì„œ v1, v2 êµ¬í•˜ê³ 
>
>v1 ì—ì„œ v2, n êµ¬í•˜ê³ 
>
>v2 ì—ì„œ v1, n êµ¬í•œë‹¤.

ë‘ ê°€ì§€ ê²½ìš° ë‹¤ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ëŠ” -1ì„ ì¶œë ¥í•œë‹¤.

ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í•˜ê¸° ìœ„í•´ì„œëŠ” ê±°ë¦¬ì— ëŒ€í•œ ë°°ì—´ì„ INFë¡œ ì´ˆê¸°í™”í•˜ëŠ”ë° êµ¬í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ëŠ”, INFì˜ ê°’ì„ ì¶œë ¥í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ 3ê°€ì§€ ê²½ë¡œë¥¼ ë”í•œ ê°’ì´ INFì¸ ê²½ìš°ëŠ” -1ì„ ì¶œë ¥í•˜ë©´ ëœë‹¤.



## ğŸ“’ ì½”ë“œ

```python
import heapq


def dijkstra(s, e1, e2):        # ë‹¤ìµìŠ¤íŠ¸ë¼ sì—ì„œ ì¶œë°œ, e1, e2 ë„ì°©
    dist = [INF for _ in range(n + 1)]
    heap = [[0, s]]
    dist[s] = 0

    while heap:             # ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜
        w, v = heapq.heappop(heap)      # ê±°ë¦¬ê°€ ì‘ì€ ê°’ë¶€í„° êº¼ë‚¸ë‹¤. heap ì‚¬ìš©
        if dist[v] != w:
            continue
        for w2, v2 in graph[v]:
            if dist[v2] > w + w2:       # ê²½ìœ í•˜ëŠ” ê²½ìš°ê°€ ë” ì‘ìœ¼ë©´ ê°±ì‹ 
                dist[v2] = w + w2
                heapq.heappush(heap, [w + w2, v2])

    return dist[e1], dist[e2]       # e1, e2ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œ ë¦¬í„´


INF = 100000000
n, e = map(int, input().split())
graph = [[] for _ in range(n + 1)]      # ì—°ê²°ìƒíƒœ í‘œì‹œ
for i in range(e):
    n1, n2, w = map(int, input().split())
    graph[n1].append([w, n2])
    graph[n2].append([w, n1])       # ì–‘ë°©í–¥ ê·¸ë˜í”„

v1, v2 = map(int, input().split())  # ê²½ìœ í•´ì•¼í•  ì •ì  v1, v2

one_to_v1, one_to_v2 = dijkstra(1, v1, v2)
v1_to_v2, v1_to_n = dijkstra(v1, v2, n)
v2_to_v1, v2_to_n = dijkstra(v2, v1, n)

path1 = one_to_v1 + v1_to_v2 + v2_to_n  # 1 => v1 => v2 => n
path2 = one_to_v2 + v2_to_v1 + v1_to_n  # 1 => v2 => v1 => n

result = min(path1, path2)
if result >= INF:       # í•˜ë‚˜ë¼ë„ ì—°ê²°ë˜ì§€ ì•ŠëŠ” ê²ƒì´ ìˆìœ¼ë©´ -1 ë¦¬í„´
    print(-1)
else:
    print(result)
```

## ğŸ” ê²°ê³¼

![image-20220427231751107](README.assets/image-20220427231751107.png)
