# [Baekjoon] 1167. íŠ¸ë¦¬ì˜ ì§€ë¦„ [G3]

## ğŸ“š ë¬¸ì œ

https://www.acmicpc.net/problem/1167

---

ì „ì— í’€ì—ˆë˜ 1967. íŠ¸ë¦¬ì˜ ì§€ë¦„ ë¬¸ì œì™€ ê±°ì˜ ìœ ì‚¬í•˜ë‹¤.

ì°¨ì´ì ì€ ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ê²ƒì´ ë¶€ëª¨ì™€ ìì‹ ê´€ê³„ê°€ ì•„ë‹Œ ì •ì  ë‘ ì‚¬ì´ì˜ ì—°ê²°ì´ë‹¤.

ì–‘ë°©í–¥ìœ¼ë¡œ ë‹¤ ì…ë ¥ì´ ë“¤ì–´ì˜¤ë‹ˆ ì…ë ¥ì„ ë‹¤ ë°›ì•„ì¤€ í›„ visitedë¡œ í™•ì¸í•˜ì—¬ í•œìª½ ë°©í–¥ìœ¼ë¡œë§Œ ì§„í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.

ì¬ê·€í•¨ìˆ˜ë¥¼ ëŒë©´ì„œ ì…ë ¥ë°›ì€ ì •ì ì˜ visited ì¸ë±ìŠ¤ë¥¼ 1ë¡œ ë°”ê¾¼ë‹¤.

ê·¸ë¦¬ê³  ìì‹ ë…¸ë“œë¥¼ ê²€ì‚¬í•  ë•Œ visitedì´ 0ì¸ ìì‹ë…¸ë“œê°€ ì—†ìœ¼ë©´ ë¦¬í”„ ë…¸ë“œì¸ ê²ƒì´ë‹¤.

ì´ ê³¼ì •ë§Œ ì „ ë¬¸ì œì—ì„œ ì¶”ê°€í•˜ë©´ ëœë‹¤.

ë‚˜ë¨¸ì§€ í’€ì´ëŠ” ë‹¤ìŒì„ ì°¸ê³ í•œë‹¤.



### ğŸ“Œ 1967. íŠ¸ë¦¬ì˜ ì§€ë¦„ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ì°¸ê³ 

https://velog.io/@yunhlim/Baekjoon-1967.-%ED%8A%B8%EB%A6%AC%EC%9D%98-%EC%A7%80%EB%A6%84-G4



## ğŸ“’ ì½”ë“œ

```python
def recur(n):
    global total_max
    visited[n] = 1          # ì •ì  ë°©ë¬¸ í‘œì‹œ
    
    result = []
    for c, w in arr[n]:     # ìì‹ ë…¸ë“œë¥¼ ì¬ê·€í˜¸ì¶œí•˜ë©´ì„œ ê°€ì¤‘ì¹˜ ê°’ì„ ë”í•´ì¤€ë‹¤.
        if not visited[c]:  # ë°©ë¬¸í–ˆë˜ ë…¸ë“œëŠ” ë¶€ëª¨ ë…¸ë“œë¡œ ì‚¬ìš©í–ˆìœ¼ë‹ˆ ë³´ì§€ ì•ŠëŠ”ë‹¤.
            result.append(w + recur(c))

    if result == []:        # ìì‹ ë…¸ë“œê°€ ì—†ìœ¼ë©´ 0ì„ ë°˜í™˜
        return 0

    result.sort()           # ë…¸ë“œì— ì—°ê²°ëœ ê¸¸ì´ë“¤ì„ í¬ê¸° ìˆœëŒ€ë¡œ ì •ë ¬í•œë‹¤.
    result = result[::-1][0:2]      # ê°€ì¥ ê¸´ 2ê°œë§Œ ë‚¨ê¸´ë‹¤.
    total_max = max(total_max, sum(result))  # 2ê°œë¥¼ í•©í•œ ê²ƒì´ í˜„ì¬ êµ¬í•œ ìµœëŒ€ íŠ¸ë¦¬ì˜ ì§€ë¦„ë³´ë‹¤ í°ì§€ í™•ì¸

    return result[0]        # ë…¸ë“œì— ì—°ê²°ëœ ì„  ì¤‘ ê°€ì¥ ê¸´ ê¸¸ì´ë¥¼ ë¦¬í„´


n = int(input())
arr = [[] for _ in range(n + 1)]    # ë¶€ëª¨ ë…¸ë“œë¥¼ ì¸ë±ìŠ¤ë¡œ í•˜ëŠ” ë¦¬ìŠ¤íŠ¸(ìì‹ë…¸ë“œì™€ ê°€ì¤‘ì¹˜ë¥¼ ë‹´ëŠ”ë‹¤.)
visited = [0 for _ in range(n + 1)]
temp = [list(map(int, input().split())) for _ in range(n)]
for i in range(n):
    s = 0
    while temp[i][s] > 0:   # -1ì´ë©´ ì¢…ë£Œ
        if s == 0:          # ì²« ë²ˆì§¸ ì…ë ¥ì„ ì •ì  v1
            v1 = temp[i][s]
            s += 1
        else:
            arr[v1].append([temp[i][s], temp[i][s + 1]])    # ë‘ ë²ˆì§¸ ì…ë ¥ë¶€í„° ì •ì  v2, wë¡œ ë°›ì•„ arrì— ë„£ì–´ì¤€ë‹¤.
            s += 2
total_max = 0   # ê°€ì¥ ê¸´ íŠ¸ë¦¬ì˜ ì§€ë¦„

recur(1)
print(total_max)
```

## ğŸ” ê²°ê³¼

![image-20220318001323019](README.assets/image-20220318001323019.png)