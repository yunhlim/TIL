# [Baekjoon] 2668. ìˆ«ìê³ ë¥´ê¸° [G5]

## ğŸ“š ë¬¸ì œ : [ìˆ«ìê³ ë¥´ê¸°](https://www.acmicpc.net/problem/2668)

---

## ğŸ“– í’€ì´

**ì‹¸ì´í´**ì„ ì°¾ëŠ” ë¬¸ì œì´ë‹¤. ì‹¸ì´í´ì„ ì–´ë–»ê²Œ ì‰½ê²Œ ì°¾ì„ê¹Œ ê³ ë¯¼ì„ ë§ì´ í–ˆë˜ ë¬¸ì œë‹¤.

![image-20220507154006776](README.assets/image-20220507154006776.png)

í‘œ ìœ„ì˜ ê°’ì„ ì•„ë˜ ê°’ìœ¼ë¡œ ë°©í–¥ ê·¸ë˜í”„ë¡œ ì—°ê²°í•œë‹¤. 

**dfs**ë¡œ ì—°ê²°ê´€ê³„ë¥¼ íŒŒì•…í•˜ë©° í˜„ì¬ ìœ„ì¹˜ë¡œ ë˜ëŒì•„ì˜¤ëŠ” ê²½ìš° ì‹¸ì´í´ì„ í˜•ì„±í•˜ëŠ” ê²½ìš°ì´ë‹¤.

ì—°ê²°ëœ ê±¸ visitedì— ë„£ìœ¼ë©´ì„œ í™•ì¸í•œë‹¤. ë‚˜ì™”ë˜ ìˆ«ìê°€ ë‚˜ì™”ì„ ë•Œ ì‹œì‘ ê°’ì´ë©´ ì‹¸ì´í´ í˜•ì„±í•˜ëŠ” ê²½ìš°ê³ , ì‹œì‘ ê°’ì´ ì•„ë‹Œ ìˆ˜ê°€ ë˜ ë‚˜ì˜¤ë©´ ì‹¸ì´í´ì„ í˜•ì„±í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì´ë‹¤.

ì˜ˆì œë¡œ ê·¸ë¦¼ìœ¼ë¡œ ê·¸ë ¤ë³´ë©° íŒŒì•…í•´ë³´ì!

![image-20220507153659391](README.assets/image-20220507153659391.png)

ìœ„ì˜ ë…¸ë“œì—ì„œ ì•„ë˜ ë…¸ë“œë¡œ í™”ì‚´í‘œë¥¼ ì—°ê²°í•œë‹¤.

![image-20220507153713068](README.assets/image-20220507153713068.png)

ìˆœí™˜ë˜ëŠ” ê²½ìš°ë¥¼ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œí˜„í•´ë³´ì•˜ë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ ìˆœí™˜ë˜ëŠ” ê²½ìš°ì˜ ê°’ì„ ë‹´ìœ¼ë©´ ë‹µì´ë‹¤.

ìˆ«ì 1ë¶€í„° 7ê¹Œì§€ í™•ì¸í•œë‹¤.

1. 1 => 3 => 1 ì´ë‹ˆ ìˆœí™˜ëœë‹¤. 

   result = [1]

2. 2 => 1 => 3 => 1 ìì‹ ì˜ ê°’ì´ ì•„ë‹Œ ë‹¤ë¥¸ ê°’ì´ ë˜ ë‚˜ì™”ë‹¤. ê·¸ëŸ¬ë©´ X

3. 3 => 1 => 3 ì´ë‹ˆ ìˆœí™˜ëœë‹¤.

   result = [1, 3]

4. 4 => 5 => 5 ìì‹ ì˜ ê°’ì´ ì•„ë‹Œ ë‹¤ë¥¸ ê°’ì´ ë‚˜ì˜¤ë‹ˆ X

5. 5 => 5 ìˆœí™˜

   result = [1, 3, 5]

6. 6 => 4 => 5 => 5 ìˆœí™˜ X
7. 7 => 6 => 4 => 5 => 5 ìˆœí™˜ X

ë”°ë¼ì„œ ë‹µì€ 1, 3, 5ì´ë‹¤.

## ğŸ“’ ì½”ë“œ

```python
def dfs(x):            # ìˆœí™˜ë˜ëŠ”ì§€ í™•ì¸
    global s
    visited.append(x)
    if graph[x] not in visited:     # ìƒˆë¡œìš´ ê°’ì´ ë‚˜ì˜¤ë©´ ì—°ê²°ëœ ë‹¤ìŒ ê·¸ë˜í”„ íƒìƒ‰
        dfs(graph[x])
    elif graph[x] == s and graph[x] in visited:  # ì‹œì‘ì ì´ ë˜ ë‚˜ì™”ìœ¼ë©´ ì¢…ë£Œ
        result.append(s)        # ì‹œì‘ì ì„ result ë°°ì—´ì— ë‹´ëŠ”ë‹¤.


n = int(input())
graph = [0 for _ in range(n + 1)]     # ìœ„ì—ì„œ ì•„ë˜ ë°©í–¥ìœ¼ë¡œ í•˜ë‚˜ì”© ì—°ê²°

for i in range(1, n + 1):       # ì²«ì§¸ì¤„ì—ì„œ ë‘˜ì§¸ì¤„ë¡œ ì—°ê²° ê´€ê³„ í‘œì‹œ
    graph[i] = int(input())

result = []         # ì‹¸ì´í´ì„ ì´ë£¨ëŠ” ì‹œì‘ì ì„ ë‹´ëŠ”ë‹¤.
for s in range(1, n + 1):
    visited = []        # ë¶€ëª¨ ë…¸ë“œë¥¼ íƒìƒ‰í•˜ë©° ê°’ì„ ë‹´ì•„ì¤„ visited ë°°ì—´
    dfs(s)
        
print(len(result))      # resultì˜ ê¸¸ì´
for i in sorted(result):        # resultë¥¼ ì •ë ¬ í›„ ìˆœì„œëŒ€ë¡œ ì¶œë ¥
    print(i)
```

## ğŸ” ê²°ê³¼

![image-20220507154644624](README.assets/image-20220507154644624.png)
