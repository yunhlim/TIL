# [Baekjoon] 2098. μ™Ένμ› μν [G1]

## π“ λ¬Έμ 

https://www.acmicpc.net/problem/2098

---

## π“– ν’€μ΄

**TSP**λ” κµ‰μ¥ν μ λ…ν• λ¬Έμ μ΄λ‹¤. **ν•΄λ°€ν„΄ κ²½λ΅**λ¥Ό κµ¬ν•λ” λ¬Έμ λ΅ μ‰½κ² ν•΄κ²°ν•  μ μλ” μ•κ³ λ¦¬μ¦μ„ μ•„μ§λ„ λ°κ²¬ν•μ§€ λ»ν•΄ **μ™„μ „νƒμƒ‰**λ§ κ°€λ¥ν•λ‹¤. λ”°λΌμ„ Nμ΄ μ‘μ€ κ²½μ°λ§ ν•΄κ²°μ΄ κ°€λ¥ν•λ‹¤.

μ¤‘λ³µμ—†λ” μμ—΄μ€ μ‹κ°„λ³µμ΅λ„κ°€ O(n!)μΈλ° ν„μ¬ κ°€μ§€μΉκΈ°λ¥Ό ν• μ μ—†κ³  μ™„μ „νƒμƒ‰μΌλ΅ λ¨λ“  κ²½μ°μ μλ¥Ό κµ¬ν•΄μ¤μ•Όν•λ‹¤. λ”°λΌμ„ μ‹κ°„λ³µμ΅λ„κ°€ `O(n!)`μ΄λ‹ 16!λ” μ‹κ°„μ΄κ³Όκ°€ λ°μƒν•λ‹¤.

**λΉ„νΈλ§μ¤ν‚Ή DP**μ μ‹κ°„λ³µμ΅λ„λ” `O((n ^ 2) * (2 ^ n))`μΌλ΅ nμ΄ 16μΌ λ• κ°€λ¥ν•λ‹¤.



### π§ λΉ„νΈ λ§μ¤ν‚Ή DPλ΅ ν•΄κ²°ν•λ” λ°©λ²•

1. DPμ λ°©λ¬Έν‘μ‹ν•  κ°μλ¥Ό `1 << n` λ§νΌμΌλ΅ λ§λ“¤μ–΄ μ¤€λ‹¤. (μ—¬κΈ°μ„λ” μ΄μ „μ— λ°©λ¬Έν–λ κ°’λ§λ‹¤ λ°”λ€λ‹ 2μ°¨μ›μΌλ΅ λ§λ“ λ‹¤.)

   DPλ¥Ό ν‘ν„ν•  λ• μ΄μ „ κ°’μΌ λ•μ visitedλ¥Ό λ‹¤ λ‹¤λ¥΄κ² λ§λ“¤μ–΄μ¤μ•Ό ν•λ‹¤.

   μλ¥Ό λ“¤λ©΄, λ„μ‹κ°€ 4κ°λ©΄ λ°©λ¬Έν‘μ‹λ¥Ό [0, 0, 0, 0]μΌλ΅ ν•λ‹¤κ³  ν•μ. λ°©λ¬Έν•  λ•λ” 1λ΅ λ°”κΎΌλ‹¤.

   ν„μ¬ λ°©λ¬Έν• κ³³μ΄ [1, 1, 1, 0] μΈλ°, μ΄μ „μ— λ°©λ¬Έν• κ³³μ΄ 1μΌ λ•μ™€ 2μΌ λ• λ‹¤λ¥΄κ² μ²λ¦¬ν•΄μ¤μ•Ό ν•λ‹¤.

   λ”°λΌμ„ dpλ¥Ό 2μ°¨μ›μΌλ΅ λ§λ“¤μ–΄μ¤€λ‹¤. κ·Έλ¦¬κ³  bitλ΅ λ‚νƒ€λ‚΄ λ°©λ¬Έν‘μ‹λ¥Ό λ‹¤ λ§λ“¤μ–΄μ¤€λ‹¤.

   nμ΄ 4μ΄λ©΄ bitκ°€ 0000 ~ 1111κΉμ§€ λ§λ“¤μ–΄μ¤μ•Όν•λ” κ²ƒμ΄λ‹¤.

   λ”°λΌμ„ `dp = [[-1] * n for _ in range(1 << n)]`λ΅ λ°©λ¬Έν‘μ‹λ¥Ό ν•΄μ¤€λ‹¤.



2. λ°©λ¬Έν‘μ‹λ¥Ό bitλ΅ ν‘μ‹ν•λ‹ λ¦¬μ¤νΈκ°€ μ•„λ‹ μ •μλ΅ λ§λ“ λ‹¤.

   μ •μμ΄λ‹ μ¬κ·€ν•¨μμ μΈμλ΅ λ°λ¦¬κ³  λ‹¤λ‹λ‹¤. λ‹¤μ λ°©λ¬Έ bitλ¥Ό ν™•μΈν•  λ• `visited & (1 << i)`λ΅ λ°©λ¬Έν–λ”μ§€ ν™•μΈν•λ‹¤.

   λ°©λ¬Έν•μ§€ μ•κ³ , λ‹¤μ μ›€μ§μΌ κ°’μ΄ 0μ΄ μ•„λ‹λ©΄ μ›€μ§μΌ μ μμΌλ‹ μ΄ λ• λ‹¤μ bitλ¥Ό λ°©λ¬Έν‘μ‹ν•΄μ¤€λ‹¤. λ°©λ¬Έν‘μ‹λ” `visited | (1 << i)`λ΅ ν•λ‹¤.

   

3. λ§μ§€λ§‰ λ‹¤ λ°©λ¬Έν–λ”μ§€λ” bitλ΅ ν™•μΈν•λ‹¤.

   visitedκ°€ `1111..111(2)`μ΄ λλ©΄ λ‹¤ λ°©λ¬Έν• κ²ƒμ΄κΈ° λ•λ¬Έμ— `(1 << n) - 1`μΈμ§€ ν™•μΈν•λ©΄ λλ‹¤.

## π“’ μ½”λ“

```python
def recur(prv, visited):
    global ans
    if visited + 1 == 1 << n:           # λ‹¤ λ°©λ¬Έν–λ”μ§€ ν™•μΈ
        return arr[prv][0] or INF   # λ„μ°©μ κΉμ§€ μ΄λ™ν• κ°’μ„ λ°ν™(κ° μ μ—†λ‹¤λ©΄ INF λ°ν™)

    if dp[visited][prv] != -1:          # λ°λ³µκ³„μ‚°μ„ μ¤„μ΄κΈ° μ„ν• λ©”λ¨μ΄μ μ΄μ… ν™μ©
        return dp[visited][prv]

    ret = INF
    for i in range(1, n):           # μ²«λ²μ§Έ λΉ„νΈλ” μ¶λ°μ μΌλ΅ ν™•μΈν•  ν•„μ”κ°€ μ—†λ‹¤. λ‚λ¨Έμ§€ λΉ„νΈ ν™•μΈ
        if arr[prv][i] == 0 or visited & (1 << i):  # κ°μ μ—†λ”μ§€, λ°©λ¬Έν–λ λΉ„νΈμΈμ§€ ν™•μΈν•λ‹¤.
            continue
        # μµμ†κ°’μ„ λ¦¬ν„΄, λ‹¤μ λ°©λ¬Έν•κΈ° μ„ν•΄ bitλ¥Ό λ°©λ¬Έμ§€μ μ— λ”ν•΄μ¤€λ‹¤.
        ret = min(ret, arr[prv][i] + recur(i, visited | (1 << i)))
    dp[visited][prv] = ret          # λ©”λ¨μ΄μ μ΄μ…μ— κ°’μ„ λ„£μ–΄μ¤€λ‹¤.
    return ret


n = int(input())
arr = [list(map(int, input().split())) for _ in range(n)]
dp = [[-1] * n for _ in range(1 << n)]  # μµμ†κ°’μ„ λ‹΄μ•„ μ¤„ λ©”λ¨μ΄μ μ΄μ…
INF = n * 1000000
print(recur(0, 1))
```

## π” κ²°κ³Ό

![image-20220407143444826](README.assets/image-20220407143444826.png)
