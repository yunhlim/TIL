# [Baekjoon] 1238. íŒŒí‹° [G3]

## ğŸ“š ë¬¸ì œ : [íŒŒí‹°](https://www.acmicpc.net/problem/1238)

## ğŸ“– í’€ì´

ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ê°€ëŠ” ë°©í–¥, ì˜¤ëŠ” ë°©í–¥ìœ¼ë¡œ 2ë²ˆ ì‚¬ìš©í•œë‹¤.

1. ëª¨ë“  ì •ì  => Xê¹Œì§€ì˜ ìµœë‹¨ê²½ë¡œ

2. X => ëª¨ë“  ì •ì ê¹Œì§€ì˜ ìµœë‹¨ê²½ë¡œ

1ë²ˆì˜ ê²°ê³¼ë¥¼ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ì™€ 2ë²ˆì˜ ê²°ê³¼ë¥¼ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë”í•´ ê°€ì¥ ê°’ì´ í° ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” í˜•ì‹ì€ ì •í•´ì ¸ìˆë‹¤.

**heap**ì„ í™œìš©í•´ í•´ê²°í•œë‹¤.

ìš°ì„  ëª¨ë“  ì •ì ê¹Œì§€ ê±°ë¦¬ë¥¼ INFë¡œ í° ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.

- ì‹œì‘ì ì€ ê±°ë¦¬ë¥¼ 0ìœ¼ë¡œ ë†“ê³  heapì— ë‹´ìœ¼ë©° ì‹œì‘í•œë‹¤.

heapì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ graph ì—°ê²° ìƒíƒœë¥¼ ë‹´ì„ ë•Œ [ì‹œê°„, ì—°ê²°ëœ ë…¸ë“œ]ë¡œ ë‹´ì•„ì¤€ë‹¤.

- ì‹œê°„ì„ ë¨¼ì € ì ëŠ” ì´ìœ ëŠ” heapìœ¼ë¡œ ìµœì†Œê°’ì„ ë½‘ì„ ë•Œ ì‹œê°„ì´ ì‘ì€ ê°’ì„ ë½‘ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

heapì— ë˜‘ê°™ì€ ë…¸ë“œê°€ ë˜ ë“¤ì–´ìˆëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ ë•ŒëŠ” dê°’ì´ heapì— ìˆëŠ” ê°’ê³¼ ë‹¤ë¥´ë‹ˆ ì´ ë•Œ continueë¥¼ ê±¸ì–´ì¤˜ì„œ í•´ê²°í•˜ë©´ ëœë‹¤.

## ğŸ“’ ì½”ë“œ

```python
import heapq


def dijkstra(dir):      # dirì´ 0ì´ë©´ xì—ì„œ ê° ì •ì ê¹Œì§€ ìµœë‹¨ê²½ë¡œ, dirì´ 1ì´ë©´ ê° ì •ì ì—ì„œ xê¹Œì§€ ìµœë‹¨ê²½ë¡œ
    heap = [[0, x]]
    while heap:
        t, v = heapq.heappop(heap)
        if d[dir][v] != t:      # ì´ë¯¸ ê°±ì‹ ëœ ê°’ì¸ ê²½ìš°ëŠ” ë³´ì§€ì•ŠëŠ”ë‹¤.
            continue
        for t_nxt, nxt in graph[dir][v]:
            if d[dir][nxt] > t + t_nxt:   # ê±°ì³ê°€ëŠ” ê²½ìš°ì˜ ì‹œê°„ì´ ë” ì‘ì•„ì§ˆ ë•Œ ë°”ê¾¼ë‹¤.
                d[dir][nxt] = t + t_nxt
                heapq.heappush(heap, [d[dir][nxt], nxt])


n, m, x = map(int, input().split())
graph = [[[] for _ in range(n + 1)] for _ in range(2)]  # x => ê° ì •ì  ìµœë‹¨ê²½ë¡œ, ê° ì •ì  => x ìµœë‹¨ê²½ë¡œ
for _ in range(m):      
    s, e, t = map(int, input().split())
    graph[0][s].append([t, e])     # ì‹œê°„ì„ ì•ì— ì ëŠ”ë‹¤(heapìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´)
    graph[1][e].append([t, s])     # ëª¨ë“  ì •ì ì—ì„œ xê¹Œì§€ ì—­ë°©í–¥ìœ¼ë¡œ ë˜ëŒì•„ê°€ëŠ” ê±¸ êµ¬í•˜ê¸° ìœ„í•´

INF = 10000000
d = [[INF for _ in range(n + 1)] for _ in range(2)]     # 2ê°€ì§€ ë‹¤ êµ¬í•œë‹¤.

d[0][x], d[1][x] = 0, 0     # ì‹œì‘ì ì˜ ê±°ë¦¬ëŠ” 0
dijkstra(0)
dijkstra(1)

max_ans = 0
for i in range(1, n + 1):   # ë‘ ê²°ê³¼ë¥¼ ë”í•´ ìµœëŒ“ê°’ì„ ì¶œë ¥í•œë‹¤.
    max_ans = max(max_ans, d[0][i] + d[1][i])

print(max_ans)
```

## ğŸ” ê²°ê³¼

![image-20220623112506171](README.assets/image-20220623112506171.png)